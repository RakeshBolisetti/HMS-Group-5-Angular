<!-- department.component.html -->

<div class="container mt-5">
    <h2 class="text-center mb-4">Departments</h2>
  
    <ul class="list-group">
      <li *ngFor="let department of departments" class="list-group-item mb-3">
        <div class="row">
          <div class="col-md-6">
            <strong>Department ID:</strong> {{ department.departmentid }}
          </div>
          <div class="col-md-6">
            <strong>Head ID:</strong>
            <ng-container *ngIf="!headchk || d !== department.departmentid; else editHead">
              {{ department.head }}
            </ng-container>
            <ng-template #editHead>
              <input type="text" name="head" [(ngModel)]="head" class="form-control" />
            </ng-template>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-md-6">
            <strong>Department Name:</strong>
            <ng-container *ngIf="!namechk || d !== department.departmentid; else editName">
              {{ department.name }}
            </ng-container>
            <ng-template #editName>
              <input type="text" name="name" [(ngModel)]="name" class="form-control" />
            </ng-template>
          </div>
        </div>
        <!-- Add more department details as needed -->
        <div class="row mt-3">
          <div class="col-md-6">
            <button class="btn btn-primary btn-block" (click)="updateHead(department.departmentid)">
              {{ !headchk || d !== department.departmentid ? 'Update Head' : 'Save' }}
            </button>
          </div>
          <div class="col-md-6">
            <button class="btn btn-primary btn-block" (click)="updateDepartmentName(department.departmentid)">
              {{ !namechk || d !== department.departmentid ? 'Update Department Name' : 'Save' }}
            </button>
          </div>
        </div>
      </li>
    </ul>
  
    <h2 class="mt-5 text-center">Add New Department</h2>
  
    <form [formGroup]="departmentForm" (ngSubmit)="addDepartment()">
      <div class="mb-3">
        <label for="headId" class="form-label">Head ID:</label>
        <input type="number" id="headId" class="form-control" formControlName="headId" required>
      </div>
      <div class="mb-3">
        <label for="departmentName" class="form-label">Department Name:</label>
        <input type="text" id="departmentName" class="form-control" formControlName="departmentName" required>
      </div>
      <!-- Add more form controls for new department as needed -->
      <button type="submit" class="btn btn-success btn-block">Add Department</button>
    </form>
  </div>
  